{"ast":null,"code":"var _jsxFileName = \"/home/thainguyen/Source/uet-smta-test/src/SignInPage/Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserCircle } from '@fortawesome/free-regular-svg-icons';\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\nimport CustomDialog from './CustomDialog';\nimport axios from 'axios';\nimport { useHistory } from 'react-router';\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = () => {\n  _s();\n\n  const {\n    isFetching,\n    dispatch\n  } = useContext(AuthContext);\n  const [user, setUser] = useState({\n    username: '',\n    password: ''\n  });\n  let [message, setMessage] = useState('');\n  const history = useHistory();\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value\n    });\n    setMessage('');\n  };\n\n  const signIn = e => {\n    const {\n      username,\n      password\n    } = user;\n\n    if (username && password) {\n      axios.post('http://localhost:5000/api/auth/login', user).then(res => {\n        if (res.data.auth === false) {\n          setMessage('Tài khoản hoặc mật khẩu không chính xác !');\n        } else {\n          localStorage.clear();\n          sessionStorage.setItem('user', JSON.stringify(res.data)); //codeTT\n          //console.log(res.data);\n\n          dispatch({\n            type: \"LOGIN_SUCCESS\",\n            payload: res.data\n          });\n\n          if (res.data.role === 'Student') {\n            history.push({\n              pathname: '/studentHomepage'\n            });\n          } else if (res.data.role === 'Teacher') {\n            history.push({\n              pathname: '/teacherHomepage'\n            });\n          }\n        }\n      }).catch(err => {\n        setMessage('Đăng nhập thất bại !');\n      });\n    } else {\n      setMessage('Vui lòng nhập đầy đủ thông tin !');\n    }\n\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"UET-SMTA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"UET Student Management for Teaching Assistant \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faUserCircle,\n          size: \"lg\",\n          style: iconStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          placeholder: \"T\\xE0i kho\\u1EA3n\",\n          name: \"username\",\n          value: user.username,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faLock,\n          size: \"lg\",\n          style: iconStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          placeholder: \"M\\u1EADt kh\\u1EA9u\",\n          name: \"password\",\n          value: user.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: signIn,\n          children: \"\\u0110\\u0103ng nh\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CustomDialog, {\n          value: \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\",\n          title: \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\",\n          type: \"span\",\n          children: \"Vui l\\xF2ng li\\xEAn h\\u1EC7 v\\u1EDBi ph\\xF2ng \\u0111\\xE0o t\\u1EA1o theo s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i 0123456789 ho\\u1EB7c p\\u0111t@gmail.com \\u0111\\u1EC3 \\u0111\\u01B0\\u1EE3c h\\u1ED7 tr\\u1EE3.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(Message, {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form, \"q41E/FoML0jg6cdxQXx1tvl4QkI=\", false, function () {\n  return [useHistory];\n});\n\n_c = Form;\nconst iconStyle = {\n  position: 'absolute',\n  top: '20px',\n  left: '40px',\n  color: '#808180'\n};\nconst Message = styled.div`\n  text-align: center;\n  color: red;\n`;\n_c2 = Message;\nconst Container = styled.form`\n  h1 {\n    color: rgba(53, 115, 171, 1);\n    text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n    margin: 50px 58px 10px;\n    font-size: 50px;\n    font-weight: 800;\n  }\n  p {\n    color: rgb(115, 129, 143);\n    margin-bottom: 35px;\n    font-weight: 700;\n  }\n  div > .wrapper {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 35px 40px;\n  }\n  div > span {\n    color: #0ba1f5;\n    cursor: pointer;\n    text-decoration: underline;\n  }\n  div > span:hover {\n    color: red;\n  }\n`;\n_c3 = Container;\nconst Input = styled.input`\n  display: block;\n  padding: 18px 65px;\n  margin: 15px 10px;\n  border-radius: 30px;\n  background-color: #e6e6e6;\n  border: none;\n  font-size: 19px;\n  transition-timing-function: ease-in-out;\n  &:active {\n    border: 2px solid #0ba1f5;\n  }\n`;\n_c4 = Input;\nconst Button = styled.button`\n  padding: 12px 30px;\n  border-radius: 20px;\n  border: none;\n  font-size: 15px;\n  color: #f6f5f5;\n  background-image: linear-gradient(to right, #9ee7ff, #5ea4ff);\n  transition-timing-function: ease-in;\n  &:hover {\n    color: rgb(115, 129, 143);\n  }\n  cursor: pointer;\n`;\n_c5 = Button;\nconst InputField = styled.div`\n  position: relative;\n`;\n_c6 = InputField;\nexport default Form;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Form\");\n$RefreshReg$(_c2, \"Message\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"Input\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"InputField\");","map":{"version":3,"sources":["/home/thainguyen/Source/uet-smta-test/src/SignInPage/Form.js"],"names":["React","useState","useContext","styled","FontAwesomeIcon","faUserCircle","faLock","CustomDialog","axios","useHistory","AuthContext","Form","isFetching","dispatch","user","setUser","username","password","message","setMessage","history","handleChange","e","name","value","target","signIn","post","then","res","data","auth","localStorage","clear","sessionStorage","setItem","JSON","stringify","type","payload","role","push","pathname","catch","err","preventDefault","iconStyle","position","top","left","color","Message","div","Container","form","Input","input","Button","button","InputField"],"mappings":"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","sourcesContent":["import React, { useState ,useContext} from 'react';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserCircle } from '@fortawesome/free-regular-svg-icons';\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\nimport CustomDialog from './CustomDialog';\nimport axios from 'axios';\nimport { useHistory } from 'react-router';\nimport { AuthContext } from \"../context/AuthContext\";\n\n\n\nconst Form = () => {\n  const { isFetching, dispatch } = useContext(AuthContext);\n  const [user, setUser] = useState({\n    username: '',\n    password: '',\n  });\n  let [message, setMessage] = useState('');\n  const history = useHistory();\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUser({\n      ...user,\n      [name]: value,\n    });\n    setMessage('');\n  };\n  const signIn = (e) => {\n    const { username, password } = user;\n    if (username && password) {\n      axios\n        .post('http://localhost:5000/api/auth/login', user)\n        .then((res) => {\n          if (res.data.auth === false) {\n            setMessage('Tài khoản hoặc mật khẩu không chính xác !');\n\n          } else {\n            localStorage.clear();\n            sessionStorage.setItem('user', JSON.stringify(res.data));\n                        //codeTT\n                        //console.log(res.data);\n                        dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n            if (res.data.role === 'Student') {\n              history.push({\n                pathname: '/studentHomepage',\n              });\n            } else if (res.data.role === 'Teacher') {\n              history.push({\n                pathname: '/teacherHomepage',\n              });\n            }\n          }\n        })\n        .catch((err) => {\n          setMessage('Đăng nhập thất bại !');\n        });\n    } else {\n      setMessage('Vui lòng nhập đầy đủ thông tin !');\n    }\n    e.preventDefault();\n  };\n  return (\n    <Container>\n      <div className=\"wrapper\">\n        <h1>UET-SMTA</h1>\n        <p>UET Student Management for Teaching Assistant </p>\n        <InputField>\n          <FontAwesomeIcon icon={faUserCircle} size=\"lg\" style={iconStyle} />\n          <Input\n            type=\"text\"\n            placeholder=\"Tài khoản\"\n            name=\"username\"\n            value={user.username}\n            onChange={handleChange}\n          />\n        </InputField>\n        <InputField>\n          <FontAwesomeIcon icon={faLock} size=\"lg\" style={iconStyle} />\n          <Input\n            type=\"password\"\n            placeholder=\"Mật khẩu\"\n            name=\"password\"\n            value={user.password}\n            onChange={handleChange}\n          />\n        </InputField>\n        <div className=\"wrapper\">\n          <Button onClick={signIn}>Đăng nhập</Button>\n          <CustomDialog\n            value=\"Quên mật khẩu?\"\n            title=\"Quên mật khẩu?\"\n            type=\"span\"\n          >\n            Vui lòng liên hệ với phòng đào tạo theo số điện thoại 0123456789\n            hoặc pđt@gmail.com để được hỗ trợ.\n          </CustomDialog>\n        </div>\n      </div>\n      {message && <Message>{message}</Message>}\n    </Container>\n  );\n};\nconst iconStyle = {\n  position: 'absolute',\n  top: '20px',\n  left: '40px',\n  color: '#808180',\n};\nconst Message = styled.div`\n  text-align: center;\n  color: red;\n`;\nconst Container = styled.form`\n  h1 {\n    color: rgba(53, 115, 171, 1);\n    text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n    margin: 50px 58px 10px;\n    font-size: 50px;\n    font-weight: 800;\n  }\n  p {\n    color: rgb(115, 129, 143);\n    margin-bottom: 35px;\n    font-weight: 700;\n  }\n  div > .wrapper {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 35px 40px;\n  }\n  div > span {\n    color: #0ba1f5;\n    cursor: pointer;\n    text-decoration: underline;\n  }\n  div > span:hover {\n    color: red;\n  }\n`;\nconst Input = styled.input`\n  display: block;\n  padding: 18px 65px;\n  margin: 15px 10px;\n  border-radius: 30px;\n  background-color: #e6e6e6;\n  border: none;\n  font-size: 19px;\n  transition-timing-function: ease-in-out;\n  &:active {\n    border: 2px solid #0ba1f5;\n  }\n`;\nconst Button = styled.button`\n  padding: 12px 30px;\n  border-radius: 20px;\n  border: none;\n  font-size: 15px;\n  color: #f6f5f5;\n  background-image: linear-gradient(to right, #9ee7ff, #5ea4ff);\n  transition-timing-function: ease-in;\n  &:hover {\n    color: rgb(115, 129, 143);\n  }\n  cursor: pointer;\n`;\nconst InputField = styled.div`\n  position: relative;\n`;\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}