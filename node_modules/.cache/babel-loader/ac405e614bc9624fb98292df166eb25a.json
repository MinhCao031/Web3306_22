{"ast":null,"code":"var _jsxFileName = \"/home/thainguyen/Source/uet-smta-test/src/Lists/Filters/SpecificFilterButton.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Fab from '@mui/material/Fab';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport SavedSearchIcon from '@mui/icons-material/SavedSearch';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SpecificFilterButton(_ref) {\n  _s();\n\n  let {\n    setData\n  } = _ref;\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const [filterData, setFilterData] = React.useState({\n    gpaStart: 0,\n    gpaEnd: 4,\n    drlStart: 0,\n    drlEnd: 100\n  });\n  const [error, setError] = React.useState({\n    gpaStart: false,\n    gpaEnd: false,\n    drlStart: false,\n    drlEnd: false\n  });\n\n  const handleChange = event => {\n    setFilterData({ ...filterData,\n      [event.target.name]: event.target.value\n    });\n\n    if (isNaN(event.target.value)) {\n      setError({ ...error,\n        [event.target.name]: true\n      });\n    } else {\n      setError({ ...error,\n        [event.target.name]: false\n      });\n    }\n  };\n\n  const handleCancel = () => {\n    setOpen(false);\n    setError({\n      gpaStart: false,\n      gpaEnd: false,\n      drlStart: false,\n      drlEnd: false\n    });\n    setFilterData({\n      gpaStart: 0,\n      gpaEnd: 4,\n      drlStart: 0,\n      drlEnd: 100\n    });\n  };\n\n  const classId = JSON.parse(sessionStorage.getItem('TableInfo')) ? JSON.parse(sessionStorage.getItem('TableInfo')).classId : '';\n  const username = JSON.parse(sessionStorage.getItem('user')) ? JSON.parse(sessionStorage.getItem('user')).username : '';\n\n  const handleFilter = () => {\n    if (!error.gpaStart && !error.gpaEnd && !error.drlStart && !error.drlEnd) {\n      const gpaStart = filterData.gpaStart !== '' ? parseFloat(filterData.gpaStart) : 0;\n      const gpaEnd = filterData.gpaEnd !== '' ? parseFloat(filterData.gpaEnd) : 4;\n      const drlStart = filterData.drlStart !== '' ? parseInt(filterData.drlStart) : 0;\n      const drlEnd = filterData.drlEnd !== '' ? parseInt(filterData.drlEnd) : 100;\n      axios.post(`http://localhost:5000/api/classes/students`, null, {\n        params: {\n          class_id: classId,\n          role: 'Teacher',\n          user_id: username\n        }\n      }).then(res => {\n        setData(res.data.filter(student => {\n          if (student.gpa >= gpaStart && student.gpa <= gpaEnd && student.drl >= drlStart && student.drl <= drlEnd) {\n            return student;\n          }\n        }));\n      }).catch(err => {\n        console.log(err);\n      });\n      setFilterData({\n        gpaStart: 0,\n        gpaEnd: 4,\n        drlStart: 0,\n        drlEnd: 100\n      });\n      setOpen(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Fab, {\n      color: \"secondary\",\n      \"aria-label\": \"delete\",\n      size: \"medium\",\n      onClick: handleClickOpen,\n      children: /*#__PURE__*/_jsxDEV(SavedSearchIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        style: {\n          fontWeight: 'bold'\n        },\n        children: \"L\\u1ECDc theo ti\\xEAu ch\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Nh\\u1EADp ti\\xEAu ch\\xED c\\u1EA7n l\\u1ECDc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            name: \"gpaStart\",\n            label: \"GPA start\",\n            variant: \"filled\",\n            size: \"small\",\n            value: filterData.gpaStart,\n            onChange: handleChange,\n            error: error.gpaStart,\n            helperText: error.gpaStart ? 'Giá trị không hợp lệ' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mx: 2,\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: \"to\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"gpaEnd\",\n            label: \"GPA end\",\n            variant: \"filled\",\n            size: \"small\",\n            value: filterData.gpaEnd,\n            onChange: handleChange,\n            error: error.gpaEnd,\n            helperText: error.gpaEnd ? 'Giá trị không hợp lệ' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            name: \"drlStart\",\n            label: \"\\u0110RL start\",\n            variant: \"filled\",\n            size: \"small\",\n            value: filterData.drlStart,\n            onChange: handleChange,\n            error: error.drlStart,\n            helperText: error.drlStart ? 'Giá trị không hợp lệ' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mx: 2,\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: \"to\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"drlEnd\",\n            label: \"\\u0110RL end\",\n            variant: \"filled\",\n            size: \"small\",\n            value: filterData.drlEnd,\n            onChange: handleChange,\n            error: error.drlEnd,\n            helperText: error.drlEnd ? 'Giá trị không hợp lệ' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        style: {\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleFilter,\n          children: \"L\\u1ECDc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCancel,\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SpecificFilterButton, \"O0ttF/p2MO0h1CjrHa8UnOA0gYQ=\");\n\n_c = SpecificFilterButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"SpecificFilterButton\");","map":{"version":3,"sources":["/home/thainguyen/Source/uet-smta-test/src/Lists/Filters/SpecificFilterButton.js"],"names":["React","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Fab","Stack","Box","SavedSearchIcon","axios","SpecificFilterButton","setData","open","setOpen","useState","handleClickOpen","handleClose","filterData","setFilterData","gpaStart","gpaEnd","drlStart","drlEnd","error","setError","handleChange","event","target","name","value","isNaN","handleCancel","classId","JSON","parse","sessionStorage","getItem","username","handleFilter","parseFloat","parseInt","post","params","class_id","role","user_id","then","res","data","filter","student","gpa","drl","catch","err","console","log","fontWeight","mx","display","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Fab from '@mui/material/Fab';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport SavedSearchIcon from '@mui/icons-material/SavedSearch';\nimport axios from 'axios';\nexport default function SpecificFilterButton({ setData }) {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const [filterData, setFilterData] = React.useState({\n    gpaStart: 0,\n    gpaEnd: 4,\n    drlStart: 0,\n    drlEnd: 100,\n  });\n  const [error, setError] = React.useState({\n    gpaStart: false,\n    gpaEnd: false,\n    drlStart: false,\n    drlEnd: false,\n  });\n  const handleChange = (event) => {\n    setFilterData({\n      ...filterData,\n      [event.target.name]: event.target.value,\n    });\n    if (isNaN(event.target.value)) {\n      setError({\n        ...error,\n        [event.target.name]: true,\n      });\n    } else {\n      setError({\n        ...error,\n        [event.target.name]: false,\n      });\n    }\n  };\n  const handleCancel = () => {\n    setOpen(false);\n    setError({\n      gpaStart: false,\n      gpaEnd: false,\n      drlStart: false,\n      drlEnd: false,\n    });\n    setFilterData({\n      gpaStart: 0,\n      gpaEnd: 4,\n      drlStart: 0,\n      drlEnd: 100,\n    });\n  };\n  const classId = JSON.parse(sessionStorage.getItem('TableInfo'))\n    ? JSON.parse(sessionStorage.getItem('TableInfo')).classId\n    : '';\n  const username = JSON.parse(sessionStorage.getItem('user'))\n    ? JSON.parse(sessionStorage.getItem('user')).username\n    : '';\n  const handleFilter = () => {\n    if (!error.gpaStart && !error.gpaEnd && !error.drlStart && !error.drlEnd) {\n      const gpaStart =\n        filterData.gpaStart !== '' ? parseFloat(filterData.gpaStart) : 0;\n      const gpaEnd =\n        filterData.gpaEnd !== '' ? parseFloat(filterData.gpaEnd) : 4;\n      const drlStart =\n        filterData.drlStart !== '' ? parseInt(filterData.drlStart) : 0;\n      const drlEnd =\n        filterData.drlEnd !== '' ? parseInt(filterData.drlEnd) : 100;\n      axios\n        .post(`http://localhost:5000/api/classes/students`, null, {\n          params: {\n            class_id: classId,\n            role: 'Teacher',\n            user_id: username,\n          },\n        })\n        .then((res) => {\n          setData(\n            res.data.filter((student) => {\n              if (\n                student.gpa >= gpaStart &&\n                student.gpa <= gpaEnd &&\n                student.drl >= drlStart &&\n                student.drl <= drlEnd\n              ) {\n                return student;\n              }\n            })\n          );\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      setFilterData({\n        gpaStart: 0,\n        gpaEnd: 4,\n        drlStart: 0,\n        drlEnd: 100,\n      });\n      setOpen(false);\n    }\n  };\n  return (\n    <div>\n      <Fab\n        color=\"secondary\"\n        aria-label=\"delete\"\n        size=\"medium\"\n        onClick={handleClickOpen}\n      >\n        <SavedSearchIcon />\n      </Fab>\n      <Dialog open={open} onClose={handleClose}>\n        <DialogTitle style={{ fontWeight: 'bold' }}>\n          Lọc theo tiêu chí\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>Nhập tiêu chí cần lọc</DialogContentText>\n          <br />\n          <Stack direction=\"row\" spacing={2}>\n            <TextField\n              name=\"gpaStart\"\n              label=\"GPA start\"\n              variant=\"filled\"\n              size=\"small\"\n              value={filterData.gpaStart}\n              onChange={handleChange}\n              error={error.gpaStart}\n              helperText={error.gpaStart ? 'Giá trị không hợp lệ' : ''}\n            />\n            <Box sx={{ mx: 2, display: 'flex', alignItems: 'center' }}>to</Box>\n            <TextField\n              name=\"gpaEnd\"\n              label=\"GPA end\"\n              variant=\"filled\"\n              size=\"small\"\n              value={filterData.gpaEnd}\n              onChange={handleChange}\n              error={error.gpaEnd}\n              helperText={error.gpaEnd ? 'Giá trị không hợp lệ' : ''}\n            />\n          </Stack>\n          <br />\n          <Stack direction=\"row\" spacing={2}>\n            <TextField\n              name=\"drlStart\"\n              label=\"ĐRL start\"\n              variant=\"filled\"\n              size=\"small\"\n              value={filterData.drlStart}\n              onChange={handleChange}\n              error={error.drlStart}\n              helperText={error.drlStart ? 'Giá trị không hợp lệ' : ''}\n            />\n            <Box sx={{ mx: 2, display: 'flex', alignItems: 'center' }}>to</Box>\n            <TextField\n              name=\"drlEnd\"\n              label=\"ĐRL end\"\n              variant=\"filled\"\n              size=\"small\"\n              value={filterData.drlEnd}\n              onChange={handleChange}\n              error={error.drlEnd}\n              helperText={error.drlEnd ? 'Giá trị không hợp lệ' : ''}\n            />\n          </Stack>\n        </DialogContent>\n        <DialogActions style={{ justifyContent: 'center' }}>\n          <Button onClick={handleFilter}>Lọc</Button>\n          <Button onClick={handleCancel}>Hủy</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}